---
layout: post
title:  "3월 출장 결산"
date:   2018-03-10 23:09:59
author: minguss
categories: devlog
tags: web dbms management
---

지난 일주일 간 출장을 다녀왔습니다.  

이번 출장으로 Management/Planning의 중요성을 다시한번 깨닫고, 효과적인 Communication에 대해서 다시한번 생각해 보는 계기가 되었죠.  
그리고 Installation 자동화에 대해서 다시한번 생각했습니다.  
출장목적은 Installation 지원입니다.  
인프라팀에서 서버와 네트워크, 스토리지, 각종 보안장비들을 설치 한 이후에 미들웨어, DBMS, 그리고 Application설치와 구동까지 모두 설치하고 확인을 해줘야 하는 상황이었습니다.  

사내에서 구축한다면 별 고민이 안되겠지만, 이번 사례는 고객사에 직접 설치를 해줘야 하는 상황이었습니다.  
또한 첫 설치였기 때문에 고객에게 보여주는 이미지 또한 중요한 과정이기도 했습니다.  
이번 출장을 통해 느꼈던 Management와 Technique 관점에서 정리해봤습니다.  

### Management.
보통 이러한 설치를 위해서는 명확한 업무분장과 Job에 대해서 철저하게 분석해 Timebase로 Planning을 해야합니다.  
당연한 이야기지만 출장에 소요되는 경비, M/M 자체가 비용이기 때문에 위와 같이 명확한 롤과 계획이 없다면 분명 지연 혹은 불필요한 지출이 발생할 수 있겠죠.  
당장에 시간산정이 어렵다면 업무분장과 연습시간이 필요할 수 있겠습니다.(군대에서 반복숙달이라고 하죠?)  
이전에 충분한 연습과 경험으로 소요 시간등에 대해서 대략적인 일정을 가늠하고, 예상치 못한 돌발상황에 (천재지변 혹은 반/출입 절차, 보안 등) 대해서 예비일까지 고려하여 일정을 대략적으로 가늠해볼 수 있겠죠.  
그렇다면 이 계획을 기준으로 계획서를 작성하게 되죠.  
계획서를 통해서 Overview형태의 계획이 나오게 될 테고, 세부 작업계획서도 작성을 하면서 점차 그 간극을 좁혀나갈 수 있겠죠.  
이번 출장에서 Planning을 하기 전 준비해야 할 사항은 아래와 같았습니다.  
1. 고객의 비지니스 프로세스에 대한 이해와 사전 체크리스트 수집(반/출입 신청 절차 등)
2. 각 업무별 체크리스트 작성(선행작업, 작업자, 예상기간, 상세 작업목록 등)
3. 작업에 필요한 Resource혹은 Program 리스트
4. 작업계획서
5. 작업완료보고서

이번 일정을 계획하면서 여러 도구들을 알아봤습니다.  
Microsoft사에서 개발한 **MS Project**가 위와 같은 계획을 관리하는데 매우 좋은 도구인데, 유료라서 아마도 돈이 많거나 관리를 정말 잘하는 회사에서 도입해서 사용할 것으로 생각합니다. 보통 MS Project를 사용하지 못하고 Excel로 사용하는 것으로 알고 있습니다.  
뭐 오픈소스도구 중에서도 괜찮은 도구들이 많더군요. [http://www.libreplan.org/](http://www.libreplan.org/)이 괜찮아 보이는데 다음 프로젝트에서 사용해보자고 건의해보고 싶네요.
우선 관리적인 측면에서 정말 많은 부분들을 고민해야합니다.  
당장에 들어가는 경비(차량렌트, 부대비용) 도 중요하지만 가장 중요한건 정확한 일정입니다. 하루라도 지연되면 그만큼의 M/M와 추가 경비가 들어갑니다.  
다른 비용을 줄이기 전에 명확한 업무분장과 계획수립으로 정해진 일정을 준수하는게 돈을 아끼는 방법일 것 입니다.

### Technique
요즘 너무나도 많은 Provisioning도구 혹은 자동 설정도구가 많죠?   
하지만 대부분 Public network환경 혹은 보안정책과 관련해서 어느정도 설득과 협력이 되어 있는 상태라면 사용이 가능하겠지만, 그렇지 않은 경우 위와 같은 도구들을 사용하기가 매우 곤란합니다. 심지어 ssh조차 연결되지 않는 경우가 있을 수 있죠.  

그래서 이런 이슈가 발생할 것 같아서 가능한 한 서버상에서 설치하는 프로그램들을 Shell Script로 작성했습니다.  
여러가지 고민들을 했는데, Python으로 작성하자니 Python을 별도로 설치해야했고(관리항목이 또 늘어남) Java로 GUI형태로 만들자니 XWindows가 문제될 것 같아서 그냥 Shell Script로 만들었습니다.  
그때그때 필요한 Script를 만들었고 (사용자, 권한, 디렉토리, RPM설치, 배포, 재기동 등등) 이런 Script를 모아서 하나의 프로그램 형태의 Shell Script로 제작했습니다.  

뭐 서버의 종류도 다양했는데, 크게 Unix/Linux로 나뉘었고 세부 OS도 다양했죠. 
기본적으로 OS에서 Bash Shell은 설치 되어 있어서(Unix는 아님) Script를 두 벌을 만들어 놓고 추후에 Host의 OS정보를 얻고 분기처리를 통해 각 OS에 맞는 Script를 수행하도록 구축했습니다.  

우선 이번 설치에 그동안 만들었던 스크립트를 구동했고, 수월하게 작동했습니다.  
다만 보강해야할 부분이 있었는데, 각종 Application단의 업무별로 설정정보를 변경해야하는 상황이 있었습니다.  
이런 부분들을 입력받아 변경할 수 있게끔 설정이 필요하다고 판단하여 Script를 추가로 만들 계획이 생겼습니다.  
그리고 사전에 Disk Mount등 Application단에서 설치하기 이전에 확인해야하는 Requirement를 Check하는 Script도 만들어야 겠습니다.  
마지막으로 Human Error를 최소화 하기 위해 가능한 한 모든것들은 Script로 만들어야 겠다는 다짐을 또 하게 되었죠.  

### Conclusion
여러모로 육체적으로 힘들었는데, 나름대로 얻은 부분도 많았던 출장이었던 것 같습니다.  
결국은 `어떻게하면 효율적으로 일할까?`로 귀결되는 내용이네요. 